```
#include <stdio.h>
#include <stdlib.h>

struct Node {
	int data;
	struct Node* link; 
};
struct Node* head;

void Insert(int N) {
	struct Node* temp = (struct Node*)malloc(sizeof(struct Node*));
	temp->data = N;
	temp->link = head;
	head = temp; 
}

void Print() {
	struct Node* temp = head; 
	while (temp != NULL) {
		printf("%d\n",temp->data);
		temp = temp->link;
	}
}

int main(void) {
	int N = 0;
	while (1) {
		printf(":");
		scanf("%d",&N);
		Insert(N);
		Print();
	}
	return 0;
} 
```

要理解这段链表代码的执行过程，我们可以通过步骤拆解 + 内存可视化的方式详细演示：
 
一、代码结构与核心功能
 
这段代码实现了一个头插法链表：
 
-  struct Node ：定义链表节点，包含数据  data  和指向下一节点的指针  link 。
-  head ：全局变量，指向链表的头节点。
-  Insert(int N) ：将新节点插入到链表头部（头插法）。
-  Print() ：遍历链表并打印所有节点的  data 。
-  main ：循环读取输入，调用  Insert  插入节点，再调用  Print  打印链表。
 
二、执行步骤详细演示（以输入  5 、 8 、 3  为例）
 
初始状态
 
程序启动时， head  未初始化，值为  NULL （表示空链表）。
 
第一步：插入节点  5 
 
1. 调用  Insert(5) ：
- 执行  struct Node* temp = (struct Node*)malloc(sizeof(struct Node)); ：在堆区分配一个新节点， temp  指向该节点。
- 执行  temp->data = 5; ：给新节点的  data  赋值为  5 。
- 执行  temp->link = head; ：此时  head  是  NULL ，所以新节点的  link  指向  NULL 。
- 执行  head = temp; ： head  指向新节点，现在链表只有一个节点  5 ，且  5->link = NULL 。
2. 调用  Print() ：
-  temp = head （即指向  5  的节点）。
- 循环： temp != NULL  → 打印  5 ，然后  temp = temp->link （即  NULL ），循环结束。
 
第二步：插入节点  8 
 
1. 调用  Insert(8) ：
- 分配新节点  temp ， temp->data = 8 。
-  temp->link = head （此时  head  指向  5  的节点，所以  8->link = 5  的节点）。
-  head = temp ： head  现在指向  8  的节点，链表结构为  8 → 5 → NULL 。
2. 调用  Print() ：
-  temp = head （指向  8 ）→ 打印  8  →  temp = temp->link （指向  5 ）→ 打印  5  →  temp = temp->link （ NULL ）→ 循环结束。
 
第三步：插入节点  3 
 
1. 调用  Insert(3) ：
- 分配新节点  temp ， temp->data = 3 。
-  temp->link = head （此时  head  指向  8  的节点，所以  3->link = 8  的节点）。
-  head = temp ： head  指向  3  的节点，链表结构为  3 → 8 → 5 → NULL 。
2. 调用  Print() ：
- 依次打印  3 、 8 、 5 ，循环结束。
 
三、动画逻辑（文字版）
 
可以想象成“节点不断往头部堆叠”的过程：
 
- 第一个节点  5  是“底座”， head  指向它。
- 插入  8  时， 8  跳到  5  前面， head  改为指向  8 。
- 插入  3  时， 3  跳到  8  前面， head  改为指向  3 。
- 每次打印时，从  head  开始，依次遍历每个节点，直到遇到  NULL 。
 
通过这种“ step by step ”的拆解，就能清晰理解头插法链表的插入、遍历逻辑以及内存中节点的连接关系了。