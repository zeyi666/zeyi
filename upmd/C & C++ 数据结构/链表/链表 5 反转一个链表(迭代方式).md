```
#include <iostream>
using std::cout;
using std::cin;

struct node{
	int data;
	node* next;
};
node* head;
node* tail;

void Insert(int data) {
	node* temp = new node();
	temp->data = data;
	if (head == NULL) {
		temp->next = NULL;
		head = temp;
	} else {
		tail->next = temp;
	}
	tail = temp;
}

void Print() {
	node* temp = head;
	while (temp != NULL) {
		cout << temp->data << " ";
		temp = temp->next;
	}
	cout << '\n';
}

void Revers() {
	node *Me,*Next,*Prev;
	Me = head;
	Prev = NULL;
	while (Me != NULL) {
		Next = Me->next;
		Me->next = Prev;
		Prev = Me;
		Me = Next;
	}
	head = Prev;
	Print();
}

int main() {
	head = NULL;
	tail = head;
	int n;
	while (1) {
		cout << ":";
		cin >> n; 
		if (n <= 5) {
			Insert(n);
		}
		if (n == 888) {
			Revers();
		} 
		if (n == 999) {
			Print();
		}
	}
}
```