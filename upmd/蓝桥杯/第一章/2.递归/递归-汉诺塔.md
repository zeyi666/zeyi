```
	#include <bits/stdc++.h>
using namespace std;

int minM = 0;
int N = 0;
int M = 0;
void hanio(int N,string a,string b,string c) {
	if (N == 0)
		return; 
	hanio(N-1,a,c,b);
	minM++;
	cout << '#' << minM << ":" << " " << a << "->" << c << '\n';
	hanio(N-1,b,a,c);
}
	


int main() {
	ios::sync_with_stdio(),cin.tie(0),cout.tie(0);
	
	cin >> N >> M;
	hanio(N,"A","B","C");
	cout << minM << '\n'; 
	
	return 0;
} 
```

```
#include <bits/stdc++.h>
using namespace std;

int minM = 0;
int N = 0;
int M = 0;
void hanio(int N,string a,string b,string c) {
	if (N == 1) {
    minM++;
	if (minM == M)
		cout << '#' << N << ":" << " " << a << "->" << c << '\n';
  } else {
hanio(N-1,a,c,b);
	minM++;
	if (minM == M)
		cout << '#' << M << ":" << " " << a << "->" << c << '\n';
	hanio(N-1,b,a,c);
  }
	
	
}


int main() {
	ios::sync_with_stdio(),cin.tie(0),cout.tie(0);
	
	cin >> N >> M;
	hanio(N,"A","B","C");
	cout << minM << '\n'; 
	
	return 0;
} 
```

```
#include<bits/stdc++.h>

using namespace std;

int cnt=0;

int n,m;

  

void haoni(string A,string B,string C,int n)

{

  if(n==1)

  {

    cnt++;

    if(cnt==m)

    cout<<"#"<<n<<":"<<" "<<A<<"->"+C<<endl;

  }

  else 

  {

    haoni(A,C,B,n-1);

    cnt++;

    if(cnt==m)

    cout<<"#"<<n<<":"<<" "<<A<<"->"<<C<<endl;

    haoni(B,A,C,n-1);

  }

}

  

int main()

{

  cin>>n>>m;

  haoni("A","B","C",n);

  cout<<cnt<<endl;

  return 0;

}
```